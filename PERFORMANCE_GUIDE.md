# 페이지 성능 최적화 가이드

이 문서는 `아이뜨락 어린이집` 웹사이트의 성능 최적화 방법에 대한 가이드를 제공합니다.

## 목차
1. [개요](#개요)
2. [최적화 전략](#최적화-전략)
3. [구현된 최적화 내용](#구현된-최적화-내용)
4. [추가 개선 방향](#추가-개선-방향)
5. [성능 측정](#성능-측정)

## 개요

웹사이트의 로딩 속도와 사용자 경험을 개선하기 위해 다양한 성능 최적화 기법을 적용했습니다. 이는 Core Web Vitals와 같은 주요 성능 지표를 개선하고 사용자 이탈률을 줄이는 데 도움이 됩니다.

## 최적화 전략

다음 세 가지 주요 영역에서 최적화를 진행했습니다:

1. **리소스 최적화**: 이미지, JS, CSS 등의 리소스 크기와 로딩 방식 개선
2. **코드 분할**: 모듈화를 통한 필요한 코드만 로드하도록 구성
3. **캐싱 전략**: 서비스 워커를 통한 효율적인 캐싱 구현

## 구현된 최적화 내용

### 1. 리소스 최적화

- **이미지 지연 로딩**:
  - `optimizer.js`에 구현된 `ResourceOptimizer` 클래스가 자동으로 이미지를 지연 로딩
  - 처음에는 저해상도 블러 플레이스홀더 표시 후 스크롤 시 실제 이미지 로드
  - `IntersectionObserver` API 활용

- **CSS/JS 최적화**:
  - 중요 CSS(Critical CSS)를 인라인으로 포함하고 나머지는 지연 로드
  - 비핵심 스크립트(Font Awesome 등)에 `defer` 속성 추가
  - `data-defer="true"` 속성을 가진 리소스는 페이지 로드 후 로드되도록 설정

### 2. 코드 분할

- **웹 컴포넌트 기반 모듈화**:
  - 각 섹션이 독립적인 웹 컴포넌트로 분리됨
  - 필요한 컴포넌트만 로드 가능
  - `component-manager.js`에서 중앙 관리

### 3. 서비스 워커 최적화

- **고급 캐싱 전략**:
  - 정적 리소스는 캐시 우선 전략(cache-first)
  - API 요청은 네트워크 우선 전략(network-first)
  - 이미지는 스탠드얼론 캐싱 전략
  - 리소스 유형별 맞춤 처리

- **오프라인 지원**:
  - 주요 페이지와 리소스는 오프라인에서도 작동
  - 오프라인 상태에서 네비게이션 요청시 홈페이지로 리다이렉트

### 4. 기타 최적화

- **폰트 최적화**:
  - `font-display: swap` 설정으로 폰트 로딩 중에도 텍스트 표시
  - 웹폰트 preconnect와 preload 설정

- **프리로드 및 프리커넥트**:
  - 중요 리소스는 `<link rel="preload">` 설정
  - 외부 도메인은 `<link rel="preconnect">` 설정

## 추가 개선 방향

추가적으로 다음과 같은 최적화를 고려할 수 있습니다:

1. **이미지 포맷 최적화**:
   - WebP 또는 AVIF 이미지 포맷 사용
   - `<picture>` 태그로 브라우저 호환성 보장

2. **서드파티 스크립트 최적화**:
   - 분석 도구, 소셜 미디어 위젯 등의 지연 로드
   - 사용자 인터랙션 후 로드하는 전략 고려

3. **API 요청 최적화**:
   - GraphQL 도입 고려
   - 데이터 캐싱 전략 구현

## 성능 측정

다음 툴을 사용하여 성능을 측정하고 모니터링할 수 있습니다:

- Google Lighthouse
- Chrome DevTools Performance 패널
- PageSpeed Insights
- WebPageTest

정기적으로 성능을 측정하여 개선 여부를 확인하고, 새로운 최적화 기회를 발견하는 것이 중요합니다.

---

*참고: 이 가이드는 웹사이트 성능 최적화의 기본 내용을 다루며, 웹사이트의 특성과 요구사항에 따라 추가적인 최적화가 필요할 수 있습니다.*